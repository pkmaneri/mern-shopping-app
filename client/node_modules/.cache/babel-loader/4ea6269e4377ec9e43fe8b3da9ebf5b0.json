{"ast":null,"code":"import _slicedToArray from\"C:/Users/prave/OneDrive/Desktop/mern-shopping-app/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartList=function CartList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartitem=_useState2[0],updateCart=_useState2[1];var getCart=function getCart(){var url=\"http://localhost:4000/v1/mycarts\";axios.get(url).then(function(response){updateCart(response.data);});};useEffect(function(){getCart();},[]);// const removeItem = (id) => {\n//     axios.delete(\"http://localhost:4000/v1/mycart/\" + id)\n//         .then(response => {\n//         window.location.reload();\n//         getCart();\n//     })\n// };\nvar removeItem=function removeItem(id){fetch(\"http://localhost:4000/v1/mycart/\"+id,{method:\"delete\"}).then(function(response){console.log(response);window.location.reload();});};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),cname=_useState4[0],PickName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),mobile=_useState6[0],PickMobile=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],PickAddress=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],updateMessage=_useState10[1];var save=function save(){var url=\"http://localhost:4000/v1/myorder/\";var data={\"cname\":cname,\"mobile\":mobile,\"address\":address,\"product\":cartitem};axios.post(url,data).then(function(response){updateMessage(\"Your Order Placed Successfully!\");window.location.reload();});};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center text-info\",children:\" Customer Details \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(obj){return PickName(obj.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mobile No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(obj){return PickMobile(obj.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Delivery Address\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",onChange:function onChange(obj){return PickAddress(obj.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-lg m-2\",onClick:save,children:\" Place My Order \"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-7\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-center text-danger\",children:[\" \",cartitem.length,\" - Items In Cart \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-success m-2\",children:message}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartitem.map(function(pinfo,index){var _id=pinfo._id;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:pinfo.pname}),/*#__PURE__*/_jsx(\"td\",{children:pinfo.pprice}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:pinfo.pphoto,height:\"30\",width:\"30\",alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:removeItem.bind(_this,_id),children:\"Remove\"})})]},index);})})]})]})]})});};export default CartList;","map":{"version":3,"sources":["C:/Users/prave/OneDrive/Desktop/mern-shopping-app/server/client/src/components/cart.js"],"names":["React","useState","useEffect","axios","CartList","cartitem","updateCart","getCart","url","get","then","response","data","removeItem","id","fetch","method","console","log","window","location","reload","cname","PickName","mobile","PickMobile","address","PickAddress","message","updateMessage","save","post","obj","target","value","length","map","pinfo","index","_id","pname","pprice","pphoto","bind"],"mappings":"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","sourcesContent":["import React ,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nconst CartList = () =>{\r\n    const[cartitem , updateCart] = useState([]);\r\n    const getCart = () =>{\r\n        var url = \"http://localhost:4000/v1/mycarts\";\r\n        axios.get(url).then(response=>{\r\n            updateCart(response.data)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        getCart();\r\n    },[])\r\n\r\n    // const removeItem = (id) => {\r\n    //     axios.delete(\"http://localhost:4000/v1/mycart/\" + id)\r\n    //         .then(response => {\r\n    //         window.location.reload();\r\n    //         getCart();\r\n\r\n    //     })\r\n    // };\r\n    const removeItem =(id)=> {\r\n         fetch(\"http://localhost:4000/v1/mycart/\" + id, {\r\n          method: \"delete\",\r\n        }).then(response=>{\r\n            console.log(response)\r\n            window.location.reload();\r\n        })\r\n      }\r\n      \r\n\r\n    const[cname , PickName] = useState(\"\");\r\n    const[mobile , PickMobile] = useState(\"\");\r\n    const[address , PickAddress] = useState(\"\");\r\n    const[message , updateMessage] = useState(\"\");\r\n\r\n    const save = () =>{\r\n        var url = \"http://localhost:4000/v1/myorder/\";\r\n        var data = { \"cname\":cname, \"mobile\":mobile, \"address\":address,\"product\":cartitem };\r\n        axios.post(url , data)\r\n        .then(response=>{\r\n            updateMessage(\"Your Order Placed Successfully!\")\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"container mt-3\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-5\">\r\n                    <h4 className=\"text-center text-info\"> Customer Details </h4>\r\n                    <div className=\"mb-3\">\r\n                        <label>Customer Name</label>\r\n                        <input type=\"text\" className=\"form-control\" onChange={obj=>PickName(obj.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label>Mobile No</label>\r\n                        <input type=\"text\" className=\"form-control\" onChange={obj=>PickMobile(obj.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label>Delivery Address</label>\r\n                        <textarea className=\"form-control\" onChange={obj=>PickAddress(obj.target.value)}></textarea>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-primary btn-lg m-2\" onClick={save}> Place My Order </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-7\">\r\n                    <h4 className=\"text-center text-danger\"> {cartitem.length} - Items In Cart </h4>\r\n                    <p className=\"text-center text-success m-2\">{message}</p>\r\n                   <table className=\"table table-bordered\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Product</th>\r\n                                <th>Price</th>\r\n                                <th>Photo</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                           {\r\n                               cartitem.map((pinfo,index)=>{\r\n                                   const _id=pinfo._id\r\n                                   return(\r\n                                       <tr key={index}>\r\n                                           <td>{pinfo.pname}</td>\r\n                                           <td>{pinfo.pprice}</td>\r\n                                           <td> \r\n                                                <img src={pinfo.pphoto} height=\"30\" width=\"30\" alt=\"\"/>\r\n                                            </td> \r\n                                            <td> \r\n                                                <button \r\n                                                className=\"btn btn-danger btn-sm\"\r\n                                                onClick={removeItem.bind(this,_id)}>Remove</button> \r\n                                            </td>\r\n                                        </tr>\r\n                                   )\r\n                               })\r\n                           }\r\n                        \r\n                        </tbody>\r\n                   </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartList;"]},"metadata":{},"sourceType":"module"}