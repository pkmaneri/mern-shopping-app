{"ast":null,"code":"import _slicedToArray from\"C:/Users/prave/OneDrive/Desktop/mern-shopping-app/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],pickName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],pickPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),photo=_useState6[0],pickPhoto=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),details=_useState8[0],pickDetails=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),msg=_useState10[0],updateMessage=_useState10[1];var save=function save(){var data={\"pname\":name,\"pprice\":price,\"pphoto\":photo,\"details\":details,\"vid\":localStorage.getItem(\"id\")};var url=\"http://localhost:4000/v1/product\";axios.post(url,data).then(function(response){updateMessage(\"Product Save Successfully !\");getProduct();});};var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),allProduct=_useState12[0],UpdateProduct=_useState12[1];var getProduct=function getProduct(){var url=\"http://localhost:4000/v1/products\";axios.get(url).then(function(response){UpdateProduct(response.data);});};useEffect(function(){getProduct();},[]);var handleDelete=function handleDelete(id){axios.delete(\"http://localhost:4000/v1/product/\"+id).then(function(response){console.log(response);getProduct();});};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center text-primary\",children:\"Add New Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(obj){return pickName(obj.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(obj){return pickPrice(obj.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(obj){return pickPhoto(obj.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",onChange:function onChange(obj){return pickDetails(obj.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:save,children:\"Save Product\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-9\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-center\",children:[\" \",allProduct.length,\" Available Products \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger text-center\",children:[\" \",msg,\" \"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-light text-primary\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Details\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allProduct.map(function(pinfo,index){var _id=pinfo._id;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",index,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",pinfo.pname,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",pinfo.pprice,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:pinfo.pphoto,height:\"50\",width:\"50\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",pinfo.details,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDelete.bind(_this,_id),children:\"Delete\"}),\" \"]})]},index);})})]})]})]})});};export default Product;","map":{"version":3,"sources":["C:/Users/prave/OneDrive/Desktop/mern-shopping-app/server/client/src/components/product.js"],"names":["React","useState","useEffect","axios","Product","name","pickName","price","pickPrice","photo","pickPhoto","details","pickDetails","msg","updateMessage","save","data","localStorage","getItem","url","post","then","response","getProduct","allProduct","UpdateProduct","get","handleDelete","id","delete","console","log","obj","target","value","length","map","pinfo","index","_id","pname","pprice","pphoto","bind"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Product = () =>{\r\n    const[name , pickName] = useState(\"\");\r\n    const[price , pickPrice] = useState(\"\");\r\n    const[photo , pickPhoto] = useState(\"\");\r\n    const[details , pickDetails] = useState(\"\");\r\n    \r\n    const[msg , updateMessage] = useState(\"\");\r\n    const save = () =>{\r\n        var data={\r\n            \"pname\":name, \r\n            \"pprice\":price, \r\n            \"pphoto\":photo, \r\n            \"details\":details, \r\n            \"vid\":localStorage.getItem(\"id\")\r\n        };\r\n        var url = \"http://localhost:4000/v1/product\";\r\n        axios.post(url , data).then(response=>{\r\n            updateMessage(\"Product Save Successfully !\");\r\n            getProduct();\r\n        })\r\n    }\r\n\r\n    const[allProduct , UpdateProduct] = useState([]);\r\n    const getProduct = () =>{\r\n        var url = \"http://localhost:4000/v1/products\";\r\n        axios.get(url).then(response=>{\r\n            UpdateProduct(response.data)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getProduct();\r\n    },[])\r\n    \r\n    const handleDelete=(id)=>{\r\n        \r\n        axios.delete(\"http://localhost:4000/v1/product/\"+ id)\r\n        .then(response => {\r\n            console.log(response)\r\n            getProduct();\r\n        })\r\n}\r\n\r\n\r\n    return(\r\n        <div className=\"container mt-4\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-3\">\r\n                    <h4 className=\"text-center text-primary\">Add New Product</h4>\r\n                    <div className=\"mb-2\">\r\n                        <label>Product Name</label>\r\n                        <input type=\"text\" className=\"form-control\" \r\n                        onChange={obj=>pickName(obj.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                        <label>Product Price</label>\r\n                        <input type=\"text\" className=\"form-control\"\r\n                        onChange={obj=>pickPrice(obj.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                        <label>Product Photo</label>\r\n                        <input type=\"text\" className=\"form-control\"\r\n                        onChange={obj=>pickPhoto(obj.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                        <label>Product Details</label>\r\n                        <textarea className=\"form-control\"\r\n                        onChange={obj=>pickDetails(obj.target.value)}></textarea>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-primary\" onClick={save}>Save Product</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-9\">\r\n                    <h4 className=\"text-center\"> {allProduct.length} Available Products </h4>\r\n                    <p className=\"text-danger text-center\"> {msg} </p>\r\n                    <table className=\"table table-bordered\">\r\n                        <thead>\r\n                            <tr className=\"bg-light text-primary\">\r\n                                <th>Product Id</th>\r\n                                <th>Name</th>\r\n                                <th>Price</th>\r\n                                <th>Photo</th>\r\n                                <th>Details</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                allProduct.map((pinfo , index)=>{\r\n                                    const _id=pinfo._id\r\n                                    return(\r\n                                        <tr key={index}>\r\n                                            <td> {index} </td>\r\n                                            <td> {pinfo.pname} </td>\r\n                                            <td> {pinfo.pprice} </td>\r\n                                            <td> \r\n                                                <img src={pinfo.pphoto} height=\"50\" width=\"50\" alt=\"\"/>\r\n                                            </td> \r\n                                            <td> {pinfo.details} </td>\r\n                                            <td >\r\n                                            <button className=\"btn btn-danger\" \r\n                                            onClick={handleDelete.bind(this,_id)}>Delete</button> </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}